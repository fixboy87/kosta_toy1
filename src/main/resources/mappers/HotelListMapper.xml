<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">


 <mapper namespace="yanoll.mapper.HotelList">
 
 	<!-- for돌려 기본 호텔 리스트--> 
 	<select id="hotelList" resultType="HotelaVO">
 	<![CDATA[
 		 select DISTINCT h_name, h_address, price, h_info, pic_url, h_location
 			from HOTEL ho inner join hotel_room ro
  			on ho.h_no = ro.h_no
 			join hotel_order hor
  			on ro.h_no = hor.h_no
  			where ho.h_no = 1 and ho.room_count - (Select count(h_no) from HOTEL_ORDER
          				where h_no = 1 and(START_DAY <= sysdate and sysdate <= END_DAY))>0
 	]]>
 	</select>
 	
 
				
	
 </mapper>